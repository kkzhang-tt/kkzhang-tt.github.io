<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>

  <title>Find a needle in haystack</title>
  <link rel="icon" href="https://raw.githubusercontent.com/kkzhang-tt/kkzhang-tt.github.io/main/_images/logo.ico" type="image/x-icon">
  <meta name='description' content="Distributed-System | Java | Golang | Infrastructure | Operating System">
  <link rel='canonical' href="kkzhang-tt.github.io/">
  <link rel='alternate' type='application/rss+xml' title='Find a needle in haystack' href="kkzhang-tt.github.io/feed.xml">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Volkhov:400,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">

  <style>
    
    /*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:0.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,html [type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}template{display:none}[hidden]{display:none}body,h1,h2,h3,h4,h5,h6,p,blockquote,pre,dl,dd,ol,ul,fieldset,legend,figure,hr{margin:0;padding:0}li>ul,li>ol{margin-bottom:0}table{border-collapse:collapse;border-spacing:0}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.icon{position:relative;display:inline-block;width:25px;height:25px;overflow:hidden;fill:currentColor}.icon__cnt{width:100%;height:100%;background:inherit;fill:inherit;pointer-events:none;transform:translateX(0);-ms-transform:translate(0.5px, -0.3px)}.icon--m{width:50px;height:50px}.icon--l{width:100px;height:100px}.icon--xl{width:150px;height:150px}.icon--xxl{width:200px;height:200px}.icon__spinner{position:absolute;top:0;left:0;width:100%;height:100%}.icon--ei-spinner .icon__spinner,.icon--ei-spinner-2 .icon__spinner{-webkit-animation:spin 1s steps(12) infinite;animation:spin 1s steps(12) infinite}.icon--ei-spinner-3 .icon__spinner{-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite}.icon--ei-sc-facebook{fill:#3b5998}.icon--ei-sc-github{fill:#333}.icon--ei-sc-google-plus{fill:#dd4b39}.icon--ei-sc-instagram{fill:#3f729b}.icon--ei-sc-linkedin{fill:#0976b4}.icon--ei-sc-odnoklassniki{fill:#ed812b}.icon--ei-sc-skype{fill:#00aff0}.icon--ei-sc-soundcloud{fill:#f80}.icon--ei-sc-tumblr{fill:#35465c}.icon--ei-sc-twitter{fill:#55acee}.icon--ei-sc-vimeo{fill:#1ab7ea}.icon--ei-sc-vk{fill:#45668e}.icon--ei-sc-youtube{fill:#e52d27}.icon--ei-sc-pinterest{fill:#bd081c}.icon--ei-sc-telegram{fill:#0088cc}*,*::after,*::before{box-sizing:border-box}h1,h2,h3,h4,h5,h6,ul,ol,dl,blockquote,p,address,hr,table,fieldset,figure,pre{margin-bottom:15px}ul,ol,dd{margin-left:15px}.highlight{background:#f7f7f7}.highlighter-rouge .highlight{background:#eef}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k{font-weight:bold}.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#aaa}.highlight .gt{color:#a00}.highlight .kc{font-weight:bold}.highlight .kd{font-weight:bold}.highlight .kp{font-weight:bold}.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086B3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne{color:#900;font-weight:bold}.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#d14}.highlight .sc{color:#d14}.highlight .sd{color:#d14}.highlight .s2{color:#d14}.highlight .se{color:#d14}.highlight .sh{color:#d14}.highlight .si{color:#d14}.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc{color:#008080}.highlight .vg{color:#008080}.highlight .vi{color:#008080}.highlight .il{color:#099}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:26px;color:#404040;background-color:#fbfbfb;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*::selection{color:#fff;background-color:#3af}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-weight:500;line-height:initial}h1{font-size:34px}h2{font-size:30px}h3{font-size:26px}h4{font-size:22px}h5{font-size:20px}h6{font-size:18px}img{max-width:100%;height:auto;vertical-align:middle}a{text-decoration:none;color:#3af;transition:.35s}a:hover{color:#0086e6}blockquote{padding-left:15px;border-left:3px solid #3af;font-family:'Volkhov', 'Times New Roman', Times, serif;font-style:normal;font-size:15px;background-color:rgba(220,235,245,0.2)}blockquote p{padding:10px}hr{height:1px;margin:30px 0;border:0;background-color:#f0f0f0}pre{overflow:auto;padding:25px;font-size:14px;white-space:pre-wrap;word-wrap:break-word;word-break:break-all;font-family:Courier, monospace}code{overflow:auto;white-space:pre-wrap;word-wrap:break-word;word-break:break-all;font-family:Courier, monospace;font-size:14px}p code,li code{padding:3px 5px}.o-wrapper{max-width:1440px;position:relative}.o-opacity{animation-duration:0.7s;animation-delay:0.2s;animation-fill-mode:both;animation-name:opacity}@keyframes opacity{from{opacity:0}to{opacity:1}}.c-btn{display:inline-block;white-space:nowrap;vertical-align:middle;font-family:'Volkhov', serif;font-size:12px;text-align:center;padding:8px 15px;cursor:pointer;transition:.35s}.c-btn--primary{color:#fff;background-color:#3af;background:linear-gradient(135deg, #3af 0%, #62d5ff 100%)}.c-btn--secondary{color:#fff;background-color:#cfcfdd;background:linear-gradient(135deg, #a2a2bd 0%, #cfcfdd 100%)}.c-btn--round{border-radius:30px}.c-btn--shadow{box-shadow:8px 10px 20px 0 rgba(46,61,73,0.15)}.c-btn--shadow:hover{box-shadow:2px 4px 8px 0px rgba(46,61,73,0.2)}.c-btn--middle{display:block;width:300px;max-width:100%}.c-btn--big{display:block;width:100%}.c-btn:hover{color:#fff;transition:.35s}.c-btn:active{transform:translateY(2px)}.c-sidebar{display:flex;flex-direction:column;justify-content:space-between;position:fixed;top:0;left:0;bottom:0;width:360px;padding:40px 20px 20px;text-align:center;box-shadow:1px 1px 0 rgba(31,35,46,0.15);background-color:#fff}.c-sidebar-author .c-author__cover{width:200px;height:250px;margin:0 auto 10px;border-radius:5%;overflow:hidden;background-color:#cfcfdd}.c-sidebar-author .c-author__cover img{width:100%;height:100%;border-radius:5%;transition:.35s}.c-sidebar-author .c-contact-menu .c-btn{min-width:110px}.c-sidebar-author .c-contact-menu .c-btn .icon{width:18px;height:18px;vertical-align:text-bottom;fill:#fff}.c-sidebar-author .c-author__info{font-family:'Volkhov', serif}.c-sidebar-author .c-author__name{font-size:18px;font-weight:700;line-height:21px}.c-sidebar-author .c-author__job{font-size:12px;color:#a0a0a0;margin:5px 0 0}.c-sidebar-author .c-contact-menu{margin:30px 0}.c-sidebar-author .c-contact-menu .c-btn--secondary{margin-right:10px}.c-sidebar-author .c-author__about{max-width:400px;margin:5px 5px 5px 55px;font-size:13px}.c-sidebar-footer .c-social__title{position:relative;font-family:'Volkhov', serif;font-size:15px;font-weight:700;color:#444}.c-sidebar-footer .c-social__title::before{content:"";display:block;height:2px;width:calc(50% - 40px);transform:translateY(-50%);position:absolute;top:50%;left:0;background-color:#444}.c-sidebar-footer .c-social__title::after{content:"";display:block;height:2px;width:calc(50% - 40px);transform:translateY(-50%);position:absolute;top:50%;right:0;background-color:#444}.c-sidebar-footer .c-social__list{list-style-type:none;padding:0;margin:15px 0}.c-sidebar-footer .c-social__list .c-social__item{display:inline-block;width:27px;height:27px}.c-sidebar-footer .c-social__list .icon{width:27px;height:27px;fill:#444;vertical-align:middle;transition:.35s}.c-sidebar-footer .c-social__list .icon:hover{fill:#3af;transform:scale(1.2);transition:.35s}.c-sidebar-footer .c-copyright p{font-size:13px;margin:0}@media only screen and (max-width: 900px){.c-sidebar{position:relative;width:100%;padding:20px}.c-sidebar .c-contact-menu{margin:20px 0}.c-sidebar-footer .c-social .c-social__title{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}.c-sidebar-footer .c-social__list{margin:0}.c-sidebar-footer .c-copyright{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}}@media only screen and (max-width: 480px){.c-sidebar-author .c-author__cover{width:80px;height:80px}.c-sidebar-author .c-author__cover img{width:100%;height:100%}.c-sidebar-author .c-contact-menu{margin:15px 0}.c-sidebar-author .c-contact-menu .c-btn{min-width:80px;font-size:10px;padding:4px 15px;margin-right:5px}.c-sidebar-author .c-contact-menu .c-btn .icon{width:16px;height:16px}.c-sidebar-footer .c-social .c-social__title{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}.c-sidebar-footer .c-social__list{margin:0}.c-sidebar-footer .c-social__list .icon{width:25px;height:25px}.c-sidebar-footer .c-copyright{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}}.c-content{position:relative;display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch;padding:0 20px 0;margin-left:360px}@media only screen and (max-width: 900px){.c-content{position:static;padding:0 15px 0;margin-left:0}}.c-posts{width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.c-post{width:100%;max-width:100%;margin-bottom:20px;display:flex;flex-direction:row;align-items:stretch;min-height:90px;border-radius:10px;overflow:hidden;transition:.35s;background-color:#fff;box-shadow:0 1px 1px 0 rgba(31,35,46,0.15)}.c-post:hover{transform:translate(0px, -2px);box-shadow:0 15px 45px -10px rgba(10,16,34,0.2)}.c-post .c-post-thumbnail{display:block;width:30%;max-width:100%;min-height:180px;border-radius:10px 0 0 10px;background-color:rgba(220,235,245,0.2);background-size:cover;background-position:50% 50%}.c-post .c-post-content{padding:15px;width:70%}.c-post .c-post-content .c-post-title{font-size:35px;font-weight:450;margin:0 0 15px}.c-post .c-post-content .c-post-title a{text-decoration:none;color:#263959}.c-post .c-post-content .c-post-date,.c-post .c-post-content .c-post-words{font-size:12px}.c-load-more{padding:20px;margin:20px auto 40px;font-size:13px;color:#fff;border:none;background-color:#3af;outline:none}.c-load-more:hover{background-color:#0086e6}@media only screen and (max-width: 1200px){.c-post{width:48%;max-width:100%;margin:0 1% 20px;flex-direction:column}.c-post .c-post-thumbnail{width:100%;border-radius:10px 10px 0 0}.c-post .c-post-content{width:100%}.c-post .c-post-content .c-post-title{font-size:21px;margin:15px 0}}@media only screen and (max-width: 480px){.c-post{width:100%;max-width:100%;margin:0 0 20px}.c-post .c-post-content{width:100%}.c-post .c-post-content .c-post-title{font-size:21px;margin:15px 0}}.c-article{width:100%;margin:20px 0}.c-wrap-content{padding:20px;background-color:#fff}.c-article__image{position:relative;background-color:rgba(220,235,245,0.2);background-position:center;background-size:cover;background-repeat:no-repeat}.c-article__image:after{content:"";display:block;padding-top:56%}.c-article__header{margin-bottom:25px;text-align:center}.c-article__header .c-article__title{margin-bottom:10px;font-size:45px;font-weight:450}.c-article__date span{font-size:13px;text-transform:uppercase;color:#a0a0a0}.c-article__footer{margin:30px 0 0;padding-bottom:30px;text-align:center;border-bottom:1px solid #f0f0f0}.c-article__footer .c-article__share{transition:.35s}.c-article__footer .c-article__share a .icon{vertical-align:middle;transition:.35s}.c-article__footer .c-article__share a .icon:hover{opacity:.7;transition:.35s}.c-article__footer .c-article__tag{margin-bottom:5px}.c-article__footer .c-article__tag a{display:inline-block;vertical-align:middle;padding:5px 10px;font-family:'Volkhov', 'Times New Roman', Times, serif;font-size:10px;line-height:10px;text-transform:uppercase;background-color:rgba(115,138,160,0.6);color:#fff}.c-article__footer .c-article__tag a:hover{background-color:rgba(80,100,118,0.6)}.c-article__footer .c-article__tag a:last-child{margin-right:0}.c-recent-post{padding:30px 0}.c-recent-post .c-recent__title{font-size:14px;text-align:center;text-transform:uppercase;margin-bottom:30px}.c-recent-post .c-recent__box{display:flex;flex-direction:row;flex-wrap:wrap}.c-recent-post .c-recent__item{max-width:23%;flex-basis:23%;margin:0 1% 20px;border-radius:10px;overflow:hidden;text-align:center;background-color:#fff;box-shadow:0 1px 1px 0 rgba(31,35,46,0.15);transition:.35s}.c-recent-post .c-recent__item h4{margin-bottom:5px;font-size:12px;text-transform:uppercase}.c-recent-post .c-recent__item h4 a{color:#444}.c-recent-post .c-recent__item:hover{box-shadow:2px 4px 8px 0px rgba(46,61,73,0.2)}.c-recent-post .c-recent__footer{padding:15px}.c-recent-post .c-recent__image{display:block;width:100%;min-height:180px;background-color:rgba(220,235,245,0.2);background-size:cover;background-position:center;background-repeat:no-repeat}.c-recent-post .c-recent__date{color:#a0a0a0;font-size:12px}@media only screen and (max-width: 1200px){.c-recent-post .c-recent__item{max-width:48%;flex-basis:48%}}@media only screen and (max-width: 900px){.c-article{margin:15px 0}}@media only screen and (max-width: 480px){.c-wrap-content{padding:15px}.c-article__header{margin-bottom:5px}.c-article__header .c-article__title{font-size:24px;margin-bottom:5px}.c-recent-post .c-recent__item{max-width:100%;flex-basis:100%;margin:0 0 20px}}.c-blog-tags{width:100%;padding:20px;margin:20px 0 40px;background-color:#fff}.c-blog-tags h1{text-align:center;margin-bottom:0}.c-blog-tags h2{font-size:18px;text-transform:uppercase;margin:30px 0;color:#757575}.c-tag__list{list-style:none;padding:0 0 40px;margin:40px 0 0;border-bottom:1px solid #f0f0f0}.c-tag__list li{display:inline-block;margin-right:15px}.c-tag__list li a{color:#404040;text-transform:uppercase;font-size:12px}.c-tag__list li a:hover{color:#000}.c-tag__item{margin-bottom:15px}.c-tag__image{width:50px;height:50px;border-radius:50%;margin-right:5px}@media only screen and (max-width: 480px){.c-blog-tags{padding:15px}.c-blog-tags h1{font-size:27px}.c-blog-tags h2{font-size:16px;margin:15px 0}.c-tag__list{padding:0 0 30px;margin:30px 0 0}.c-tag__item{margin-bottom:5px}.c-tag__image{display:none}}.c-header{position:relative;width:100%;margin:20px 0}.c-header__box{position:relative;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.c-header__box .icon--ei-search{position:absolute;top:7px;left:15px;fill:#ccc}.c-search{width:80%}.c-search .c-search__box{display:flex;align-items:center}.c-search .c-search__text{position:relative;width:100%;padding:10px 10px 10px 40px;border:1px solid #dce4ea;border-radius:30px;outline:none;color:#a0a0a0}.c-search .c-search__text::placeholder{color:#ccc}.c-search .c-search__text:hover{box-shadow:0 1px 0px rgba(132,135,138,0.1);transition:.35s}.c-search .c-search-results-list{position:absolute;width:100%;margin:10px 0 0;list-style-type:none;background-color:#fff;z-index:1}.c-search .c-search-results-list li{display:flex;flex-wrap:wrap;align-items:center;margin:0;padding:20px 25px 0;background-color:#fff;line-height:1.4;border-left:solid 1px #edeeee;border-right:solid 1px #edeeee}.c-search .c-search-results-list li:first-child{border-top-left-radius:5px;border-top-right-radius:5px;border-top:solid 1px #edeeee}.c-search .c-search-results-list li:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding-bottom:25px;border-bottom:solid 1px #edeeee}.c-search .c-search-results-list li a{font-size:16px}.c-nav{flex-grow:1;padding-left:20px}.c-nav .c-nav__list{display:flex;justify-content:flex-end}.c-nav .c-nav__list .c-nav__item{display:flex;align-items:center;float:left;padding:4px 10px;font-size:10px;text-transform:uppercase;white-space:nowrap;border:1px solid #dce4ea;box-shadow:0 1px 0px rgba(132,135,138,0.4);will-change:transform;transform:translateY(0px);cursor:pointer}.c-nav .c-nav__list .c-nav__item:hover{color:#222;background-color:#fff}.c-nav .c-nav__list .c-nav__item.is-active{box-shadow:0 0 0 rgba(132,135,138,0.5);transform:translateY(1px);color:#cfcfdd}.c-nav .c-nav__list .c-nav__item.is-active:hover{background-color:#fbfbfb}.c-nav .c-nav__list .c-nav__item:first-child{border-radius:10px 0 0 10px}.c-nav .c-nav__list .c-nav__item:last-child{border-radius:0 10px 10px 0}.c-nav .c-nav__list .c-nav__item .icon{width:18px;height:18px;margin-right:3px}@media only screen and (max-width: 900px){.c-header{margin:15px 0}}@media only screen and (max-width: 480px){.c-header .c-header__box{flex-direction:column}.c-header .c-search{width:100%}.c-header .c-search .c-search__text{padding:8px 8px 8px 40px}.c-header .c-nav{margin-top:15px}.c-header .c-nav .c-nav__list{justify-content:center}.c-header .c-nav .c-nav__item{padding:4px 8px}}.c-categories{width:100%}.c-categories__list{width:100%;display:flex;flex-direction:row;flex-wrap:wrap}.c-categories__item{max-width:25%;flex-basis:25%;padding:0 10px 20px}.c-categories__link{height:100%;display:flex;flex-direction:column;align-items:center;padding:20px 10px;border-radius:5px;box-shadow:5px 5px 25px rgba(46,61,73,0.15);background-color:#fff;transition:.35s}.c-categories__link:hover{box-shadow:2px 4px 8px 0px rgba(46,61,73,0.2)}.c-categories__link:hover .c-categories__img .c-categories__more{opacity:1;transition:.35s}.c-categories__link .c-categories__container{width:100%;word-wrap:break-word}.c-categories__link .c-categories__container.c-empty-figure{display:flex;flex-direction:column;justify-content:center;flex-grow:1}.c-categories__img{position:relative;max-width:100%}.c-categories__img figure{position:relative;width:200px;max-width:100%;margin-bottom:20px;overflow:hidden;background-size:cover;background-repeat:no-repeat;background-position:center;border-radius:50%;box-shadow:inset 0 1px 3px rgba(141,165,185,0.3)}.c-categories__img figure:after{content:"";display:block;padding-top:100%}.c-categories__img figure:before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,0.15)}.c-categories__img .c-categories__more{display:inline-block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-weight:700;color:#fff;text-transform:uppercase;text-shadow:0 1px 0 rgba(104,172,191,0.3);opacity:0;transition:.35s}.c-categories__container{text-align:center}.c-categories__container .c-categories__header{font-size:13px;margin-bottom:10px;font-weight:normal;text-transform:uppercase;color:#404040}.c-categories__container .c-categories__count{font-family:'Volkhov', serif;font-size:12px;color:#404040;margin-bottom:0}.c-categories__container .c-categories__count span{display:inline-block;width:20px;height:20px;line-height:20px;vertical-align:baseline;margin-right:5px;border-radius:50%;color:#fff;background-color:#ee6c6c}@media only screen and (max-width: 1200px){.c-categories .c-categories__item{max-width:33.333%;flex-basis:33.333%}}@media only screen and (max-width: 1050px){.c-categories .c-categories__item{max-width:50%;flex-basis:50%}}@media only screen and (max-width: 480px){.c-categories .c-categories__item{max-width:100%;flex-basis:100%;padding:0 0 20px}}.c-form-box{position:absolute;top:0;width:calc(100% - 40px);min-height:100vh;padding:0 20px;background-color:#fff;z-index:1}.c-form-bnt__close{position:absolute;top:0px;left:0;width:30px;height:30px;cursor:pointer;transition:.35s}.c-form-bnt__close:hover{transform:scale(0.8);opacity:.8}.c-form{position:relative;width:750px;max-width:100%;margin:40px auto}.c-form .c-form__title{margin:0 0 40px;min-width:0;border:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";text-transform:uppercase;text-align:center}.c-form a{color:#404040}.c-form__group{margin-bottom:20px}.c-form__group label{display:block;text-transform:uppercase;font-size:10px}.c-form__group input,.c-form__group textarea{width:100%;padding:10px 15px;color:#404040;border:1px solid #dce4ea;outline:none;transition:.35s}.c-form__group input:focus,.c-form__group textarea:focus{box-shadow:0 4px 25px rgba(132,135,138,0.1)}.c-form__group button{padding:20px;text-transform:uppercase;outline:none;border:none}.c-thank-you p{position:relative;padding:20px 40px;width:750px;max-width:100%;text-transform:uppercase;font-size:12px;line-height:18px;font-weight:700;margin:40px auto 0;text-align:center;color:#fff;background:linear-gradient(135deg, #55b5ad 0%, #5ec9c5 100%)}.c-thank-you p .c-form-bnt__close{width:25px;height:25px;background:transparent}.c-thank-you p a{color:#fff}@media only screen and (max-width: 900px){.c-form-box{width:100%;left:0;right:0}}@media only screen and (max-width: 480px){.c-form-bnt__close{width:25px;height:25px}}.c-newsletter{padding:30px 0 60px;margin:0 auto;border-bottom:1px solid #f0f0f0}.c-newsletter__header{text-align:center}.c-newsletter__header .c-newsletter__title{font-size:14px;text-transform:uppercase;text-align:center}.c-newsletter__header .c-newsletter__subtitle{margin-bottom:15px}.c-newsletter-form{width:100%;max-width:750px;margin:0 auto}.c-newsletter-form .c-newsletter-form__group{display:flex}.c-newsletter__email{width:70%;height:40px;padding:10px 15px;border:1px solid #ddd;border-right-color:transparent;outline:none;transition:.35s}.c-newsletter__email:focus{box-shadow:0 4px 25px rgba(132,135,138,0.1)}.c-newsletter__button{width:30%;height:40px;color:#fff;background-color:#3af;transition:.35s;border:none;outline:none;cursor:pointer}.c-newsletter__button:hover{background-color:#0086e6}@media only screen and (max-width: 480px){.c-newsletter__button{font-size:13px}}.c-comments{padding:30px 0;border-top:1px solid #f0f0f0}.c-top{position:fixed;width:40px;height:40px;bottom:20px;color:#757575;cursor:pointer;transition:.35s;right:-100px;z-index:10;opacity:.5}.c-top--active{right:15px}.c-top:hover{color:#757575;opacity:1}.u-text-left{text-align:left}.u-text-right{text-align:right}.u-text-center{text-align:center}.u-text-justify{text-align:justify}.u-block{display:block}.u-inline-block{display:inline-block}.u-inline{display:inline}.u-full-width{display:block;width:100%}.u-vertical-center{display:flex;align-items:center;justify-content:center}.u-responsive-image{max-width:100%;height:auto;vertical-align:middle}.u-show{display:block !important}.u-hide{display:none !important}.u-invisible{visibility:hidden}.u-float-left{float:left}.u-float-right{float:right}.u-no-padding-top{padding-top:0}.u-no-padding-bottom{padding-bottom:0}.u-no-padding-left{padding-left:0}.u-no-padding-right{padding-right:0}.u-no-padding{padding:0}.u-no-margin-top{margin-top:0}.u-no-margin-bottom{margin-bottom:0}.u-no-margin-left{margin-left:0}.u-no-margin-right{margin-right:0}.u-no-margin{margin:0}.u-lists-reset{list-style-type:none;margin:0;padding:0}.u-clearfix::before,.u-clearfix::after{content:"";display:table;clear:both}.u-screen-reader-text{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px;word-wrap:normal !important}

  </style>
</head>

<body>
  
  <div class="o-wrapper">
    <aside class="c-sidebar">
  <div class="c-sidebar-author">
    <div class="c-author__cover">
      <a href="/">
        <img src="/images/kkzhang.jpg" alt="KKZHANG">
      </a>
    </div>
    <div class="c-author__info">
      <div class="c-author__name">KKZHANG</div>
      <span class="c-author__job">Software Engineer</span>
    </div>
    <div class="c-contact-menu">
      
      <a href="/contact" class="c-contact-btn c-btn c-btn--secondary c-btn--round c-btn--shadow"><span data-icon='ei-envelope' data-size='s'></span> Send me</a>
      
      
      <a href="https://twitter.com/intent/user?screen_name=KZ25674171" class="c-btn c-btn--primary c-btn--round c-btn--shadow"><span data-icon='ei-sc-twitter' data-size='s'></span> Follow me</a>
      
    </div>
    <!-- <p class="c-author__about">👋 Hi, I’m @kkzhang. 👍I am now working at @MeiTuan, engaged in middleware development. ✌️ I used to work at @ByteDance, develop software about Instant Messaging.  ☎️ I am interested in distributed-system & operating-system. 🧭 The main development language is java, and I also know little golang.</p> -->
    <!-- <div class="c-author__about" align="left">👋 Hi, I’m @kkzhang.<br> 👍 I am now working at @MeiTuan, engaged in middleware development.<br> ✌️ I used to work at @ByteDance, develop software about Instant Messaging. <br> ☎️ I am interested in distributed-system & operating-system.<br> 🧭 The main development language is java, and I also know little golang.</div> -->
    <div class="c-author__about" align="left">
      <ul>
        <li>👋 Hi, I’m @kkzhang</li>
        <li>✌️ Email: kkzhang1029@gmail.com</li>
        <li>🧭 Work experience:</li>
          <ul>
            <li>☎️ Meituan - Infrastructure</li>
            <li>👍 ByteDance - Instant Messaging</li>
          </ul>
      </ul>
    </div>
  </div>

  <div class="c-sidebar-footer">
    <div class="c-social">
      <div class="c-social__title">Social</div>
      <ul class="c-social__list u-lists-reset">
        
          <li class="c-social__item"><a href="https://twitter.com/KZ25674171" target="_blank"><div data-icon='ei-sc-twitter' data-size='s'></div></a></li>
        
        
        
        
          <li class="c-social__item"><a href="https://github.com/kkzhang-tt" target="_blank"><div data-icon='ei-sc-github' data-size='s'></div></a></li>
        
        
        
        
          <li class="c-social__item"><a href="https://instagram.com/kzhang29" target="_blank"><div data-icon='ei-sc-instagram' data-size='s'></div></a></li>
        
        
        
        
        
        
          <li class="c-social__item"><a href="https://in.linkedin.com/in/k-z-23575b202" target="_blank"><div data-icon='ei-sc-linkedin' data-size='s'></div></a></li>
        
      </ul>
    </div>
    <div class="c-copyright">
      <p>2022 &copy; KKZHANG</p>
    </div>
  </div>
</aside> <!-- /.c-sidebar -->

<main class="c-content">
  

<header class="c-header">
  <div class="c-header__box">
    <div class="c-search">
      <div class="c-search__box">
        <label for="js-search-input" class="u-screen-reader-text">Search for Blog</label>
        <input type="text" id="js-search-input" class="c-search__text" autocomplete="off" placeholder="Type to search...">
        <div data-icon='ei-search' data-size='s'></div>
      </div>
      <ul id="js-results-container" class="c-search-results-list"></ul>
    </div>
    <div class="c-nav">
      <ul class="c-nav__list u-lists-reset">
        <li class="c-nav__item is-active">
          <div data-icon='ei-pencil' data-size='s'></div> Posts</li>
        <li class="c-nav__item">
          <div data-icon='ei-star' data-size='s'></div> Categories</li>
      </ul>
    </div>
  </div>
</header> <!-- /.c-header -->
<div class="c-posts o-opacity" data-page="1" data-totalPages="2">
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/linux_kernel/chapter_4/lk_1.png)"
        href="/2021/11/28/linux-kernel-4/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/11/28/linux-kernel-4/">Linux Kernel: Processes</a>
      </h2>
      <!-- <p>进程被定义为程序执行的一个实例。在 Linux 中，通常把进程称为任务（task）或者线程（thread）。 如果有 n 个用户同时运行 vim 命令，那么就会有 n 个独立的进程；尽管它们共享同一个可执行代码 1-进程 &amp; 轻量级进程 &amp; 线程...</p> -->
      <span class="c-post-date">2021, Nov 28&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">4 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/linux_kernel/chapter_3/lk_1.png)"
        href="/2021/11/27/linux-kernel-3/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/11/27/linux-kernel-3/">Linux Kernel: Process Address Space</a>
      </h2>
      <!-- <p>1-概述 操作系统在对进程进行内存分配时，会根据进程的状态有不同的处理方式。 进程处于内核态，则立即分配内存；并且假定所有的内存分配函数都不会产生错误（信任内核） 进程处于用户态，则推迟动态内存的分配；用户进程时不可信任的，分配过程可能会产生异常 关于两种状态下内存分配时机的不同出于以下原因： 内核时操作系统中优先级最高的成分。如果内核请求动态内存，则必定有充分的理由，所以应该立即满足该请求 用户态进程对内存的请求被认为是不紧迫的。当进程获得动态内存之后，并不意味着很快会对这些内存进行访问；因此，内核一般总是尽量推迟给用户态进程分配动态内存 内核如何实现对进程动态内存的推迟分配？当用户态进程请求动态内存时，并没有获得请求的页框，而仅仅获得对一个新的线性地址区间的使用权，而这以线性地址区间就成为进程地址空间的一部分，该区间叫做线性区（memory region）。 2-进程的地址空间 进程的地址空间（address space）由允许进程使用的全部线性地址组成。每个进程看到的线性地址集合是不同的，一个进程所使用的地址与另一个进程所使用的地址之间没有关系。 内核可以通过增加或者删除某些线性地址区间来动态地修改进程的地址空间。 每个进程的地址空间是整个虚拟地址空间的子集 内核通过线性区资源来表示线性地址区间，线性区由起始线性地址，长度及一些访问权限来描述。...</p> -->
      <span class="c-post-date">2021, Nov 27&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">2 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/linux_kernel/chapter_2/lk_1.png)"
        href="/2021/11/20/linux-kernel-2/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/11/20/linux-kernel-2/">Linux Kernel: Memory Addressing</a>
      </h2>
      <!-- <p>1-内存地址 我们偶尔会引用内存地址（Memory Address）访问内存单元内容；在 x86 处理器中，需要区分以下三种不同的地址： 逻辑地址（logical address） 在机器语言指令中用来指定一个操作数或者指令的地址。在 x86 中需要将程序分为若干段，每个逻辑地址都由一个段（segment）和偏移量（offset）组成 线性地址（linear address）or 虚拟地址（virtual address） 用一个...</p> -->
      <span class="c-post-date">2021, Nov 20&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">2 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/linux_kernel/chapter_1/lk_1.png)"
        href="/2021/10/27/linux-kernel-1/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/10/27/linux-kernel-1/">Linux Kernel: Abstract</a>
      </h2>
      <!-- <p>1. 操作系统基本概念 操作系统是一个基本程序的集合，在这个集合中，最重要的程序称为内核（Kernel）。当操作系统启动时，内核被装载到 RAM 中。内核为操作系统提供了主要功能，一般把“内核”作为“操作系统”的同义词。 操作系统有两个目标： 与硬件交互：为硬件平台上的低层可编程部件提供服务 为用户程序提供执行环境 当用户程序想要使用硬件资源时，需要向操作系统发送请求；内核对这个请求进行评估，如果允许使用该硬件资源，则由内核代表与相关硬件进行交互。为了实现这种机制，操作系统依靠特殊的硬件机制来禁止用户程序直接与硬件交互；CPU 至少引入了两种执行模式：用户程序的非特权模式 &amp; 内核的特权模式；在 Unix 中分别称为用户态（User Model）&amp;...</p> -->
      <span class="c-post-date">2021, Oct 27&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">3 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/nce/nce_2.jpg)"
        href="/2021/10/22/gerund/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/10/22/gerund/">动名词结构</a>
      </h2>
      <!-- <p>1. 介绍 动名词是由动词变化而来，一方面保留着动词的某些特征，具有动词的某些变化形式，用以表达名词所不能表达的较为复杂的意念；另一方面动名词在句子的用法及功能与名词类同: 在句子中可以作主语、宾语、表语、定语，它也可以被副词修饰或者用来支配宾语。 既有动词的变化形式，又具有名词的用法 2. 用法 2.1 主语 动名词做主语，谓语动词用单数。 直接位于句首做主语 Swimming is a good...</p> -->
      <span class="c-post-date">2021, Oct 22&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">2 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/nce/nce_3.jpg)"
        href="/2021/10/15/verb-infinitive/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/10/15/verb-infinitive/">动词不定式</a>
      </h2>
      <!-- <p>1. 概要 动词不定式是一种非谓语动词形式，其结构为 to do。 其中 to 不是介词，而是动词不定式的符号，称为小品词 动词不定式没有人称和数的变化，但有时态和语态的变化。 动词不定式和其后面的名词等构成不定式短语，在句子中可以用作主语、表语、宾语、定语、状语、补足语、独立成分或与疑问词等连用. 2. 时态与语态 不定式 主动语态 被动语态...</p> -->
      <span class="c-post-date">2021, Oct 15&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">4 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/nce/nce_2.jpg)"
        href="/2021/10/13/non-predicate-verb/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/10/13/non-predicate-verb/">非谓语动词</a>
      </h2>
      <!-- <p>1. 概要 一个句子中只能有一个谓语动词，但是如果需要出现其他动词，则该动词需要被降级。降级的方式有： 非谓语动词形态 从句形态 The boy who is crying said this. 从属连词 例如 because,...</p> -->
      <span class="c-post-date">2021, Oct 13&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">2 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/economics/economics_1.png)"
        href="/2021/08/08/principles-of-economics-1/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/08/08/principles-of-economics-1/">经济学十大原理</a>
      </h2>
      <!-- <p>引言 社会资源具有稀缺性，因此不能生产出人们希望拥有的所有物品与服务，每个人也就不能达到其希望的最高生活水平。 经济学用于研究社会如何管理自己的稀缺资源。在大多数社会中，资源并不是由一个全权的独裁者来配置，而是通过千万家庭和企业的共同选择来配置的。经济学研究的内容包括： 人们如何做出决策 做多少工作，购买什么，储蓄多少 人们之间如何相互影响 一种物品的众多买者与卖者如何共同决定该物品的销售价格和销售量 分析影响整个经济的力量与趋势 平均收入的增长，失业人口的比例，物品价格上升的速度 针对上述内容，经济学中存在十大基本原理。 人们如何做出决策 经济是什么？经济只不过是在生活中相互交易的人们所组成的群体而已；一个经济体的行为反映了组成这个经济体的个人行为。 原理一：人们面临权衡取舍 在生活中，为了得到一个喜欢的东西通常需要放弃另一个喜欢的东西。做出决策就是要求我们在一个目标与另一个目标之间进行权衡取舍。比如政府要求企业减少污染，那么就会使得该企业生产对应物品的成本增加，相应的利润就会减少，支付给工人的工资降低了，产品的价格提高了等。 社会面临的另一种权衡取舍是在效率与平等之间。效率可以看作是经济蛋糕的大小，而平等是指如何分割这块蛋糕。...</p> -->
      <span class="c-post-date">2021, Aug 08&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/gfs/gfs_1.png)"
        href="/2021/07/29/gfs/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/07/29/gfs/">Google File System</a>
      </h2>
      <!-- <p>0-Keywords 容错(Fault Tolerance)，扩展性(scalability)，数据存储(Data Storage)，集群存储(Clustered Storage) 1-Introduction GFS 以可用性，可伸缩性，可靠性，性能等作为目标，与之前的分布式文件系统有所区别的是，其设计思路主要结合 Google 内部的实际情况考虑： 组件失效是正常现象（Normal）而非异常（Exception） 需要支持系统监控，容灾，自动恢复机制 存储的文件通常比较大（Huge） 如果文件块（block）比较小的话（比如以 KB...</p> -->
      <span class="c-post-date">2021, Jul 29&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">6 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_8_1.png)"
        href="/2021/07/11/ddia-8/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/07/11/ddia-8/">DDIA: 数据分区</a>
      </h2>
      <!-- <p>复制是在不同节点上保存相同数据的多个副本，如果数据量过大使得单节点无法存储全量数据或者查询压力过高，那么仅仅使用复制是不够的，我们需要将数据拆分为分区（分片）。 分区使得每条记录（数据，行 或者 文档）只属于某个特定的分区。每个分区可以看作一个完整的小型数据库。 数据分区用于提高可扩展性；不同分区可以存放在无共享集群中的不同节点上，使得大数据集分散在更多磁盘上，负载相应地也分散到各个机器。 每个分区可以进行独立查询操作，因此多分区可以提高系统吞吐量；但是对跨分区查询比较困难。 分区与复制 分区通常与复制同时使用，即每个分区都会存在多个副本。 某条记录属于特定的分区，该记录又会被保存在不同的副本中以提高容错性 一个节点上可能存在多个分区；每个分区都有主副本 &amp; 从副本，主副本与从副本被分配在不同的节点上。一个节点可能是某个分区的主副本，也可能是其他分区的从副本。 复制 &amp; 分区组合使用：每个节点既是某些分区的主节点又是其他分区的从节点...</p> -->
      <span class="c-post-date">2021, Jul 11&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_7_1.png)"
        href="/2021/07/10/ddia-7/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/07/10/ddia-7/">DDIA: 数据复制（三）</a>
      </h2>
      <!-- <p>无主节点复制 单主节点 &amp; 多主节点复制中，客户端先向主节点发送写请求，然后系统将写请求复制到其他副本。对于无主节点复制，选择放弃主节点，允许任何副本直接接收来自客户端的请求。 亚马逊的 Dynamo 系统是无主复制的典型 在有些无主节点系统中，客户端直接将写请求发送到多副本；而在另一些系统中，由一个协调者节点代表客户端进行写入。 节点失效时写入数据库 对于主从复制模型，主节点失效时，如果想继续处理写操作，那么需要先进行节点切换；对于无主节点模型，则不需要节点切换。 客户端将写请求并行发送给三个副本，有两个副本可以正常处理请求，而失效的副本无法处理。如果两个正常工作的节点可以成功确认写操作，那么客户端收到两个确认之后，即可认为写入成功；完全忽律其中一个副本无法写入的情况。 失效的节点重新工作后，在其失效期间的数据尚未同步，此时用户可能会访问到过期的数据。因此，当客户端读取数据时，将读请求并行发送给三个副本；多个副本的响应结果可能不同，可以通过版本号等技术确定哪个值更新。 读修复 &amp; 反熵...</p> -->
      <span class="c-post-date">2021, Jul 10&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">2 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_6_1.png)"
        href="/2021/07/07/ddia-6/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/07/07/ddia-6/">DDIA: 数据复制（二）</a>
      </h2>
      <!-- <p>多主节点复制 主从复制的缺点是：只有一个主节点，所有写入都必须经过主节点；那么系统的写入操作可扩展性不强，同时如果主节点异常阶段会使得系统写入被阻塞。 可以根据主从模型进行扩展，配置多个主节点，每个主节点都可以接受写请求；每个主节点都需要将数据更改转发到其他所有节点，这种方式被称为多主节点复制。 每个主节点同时是其他主节点的从节点 适用场景 多数据中心 在一个数据中心内适用多个主节点没有太大意义，反而使系统更加复杂，比较合适的场景是多数据中心。 为了容忍数据中心级别的故障，可以把数据库的副本横跨多个数据中心。可以在每个数据中心配置一个主节点；每个数据中心内采用常规的主从复制方案；而在数据中心之间，各个数据中心的主节点来负责同其他数据中心的主节点进行数据交换，更新。 对于多数据中心，如果采用主从复制，由于主节点只能存在其中一个数据中心内，会导致所有写请求都会经过该中心，反而会影响系统性能 横跨多数据中心的多主节点复制模型 如果数据库还采用了分区，那么不同分区的主副本可能存放在不同的主节点上，但是对于给定的某个分区，只有一个主节点。 多主复制 VS 主从复制 性能...</p> -->
      <span class="c-post-date">2021, Jul 07&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_5_1.png)"
        href="/2021/06/29/ddia-5/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/29/ddia-5/">DDIA: 数据复制（一）</a>
      </h2>
      <!-- <p>复制主要是指通过网络在多台机器上保存相同的数据副本。通过数据复制，我们期望能够达到以下目的： 降低访问延迟：使数据在地理位置上更接近用户 提高可用性（容错）：当部分节点异常，系统仍然可以继续提供服务 提高读吞吐量：多个数据副本可以同时提供数据访问服务 在讨论数据复制时，假设集群中的每一台机器都能保存完整的数据集副本。 数据复制的难点在于如何处理持续更新的数据；常见的数据复制方法有三种：主从复制，多主节点复制，无主节点复制。 主从复制 每个保存数据库完整数据集的节点称为副本。当存在多个副本，如何保证不同副本之间的数据一致性是需要考虑的问题。常见的解决方案基于主从复制，其基本流程如下： 指定某个副本为主副本。当客户端写数据时，必须将写请求发送给主节点；而主节点首先将数据写入本地存储 其他副本称为从副本。主节点将新数据写入本地之后，再将数据更改作为复制的日志或者更改流发送给所有的从副本。每个从副本获得更改日志后将其应用到本地，并且严格保持与主副本相同的写入顺序。 客户端从数据库中读数据时，可以在主副本或者从副本上执行查询。 只有主副本可以接受写请求，从副本只读 同步复制与异步复制 在将数据由主节点复制到从节点时，可以选择使用同步复制还是异步复制。 结合上图的流程，假设用户需要更新自己的首页头像图片，基本流程为：用户将更新请求发送到主节点，主节点收到更新请求并更新自身数据，之后将数据更新发送给从节点。之后，主节点通知用户更新完成。...</p> -->
      <span class="c-post-date">2021, Jun 29&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_4_1.png)"
        href="/2021/06/29/ddia-4/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/29/ddia-4/">DDIA: 分布式系统摘要</a>
      </h2>
      <!-- <p>为什么需要分布式系统？ 扩展性 当数据量或者读写负载超过了单台机器的处理上限，需要将负载分到多台机器上去 容错与高可用性 如果单台机器出现故障，我们却希望整个系统继续提供服务，那么需要采用多台机器进行冗余。这样当某些节点失效后，其他节点可以迅速接管。 延迟考虑 假设客户端遍布世界各地，通常需要考虑在全球范围内部署服务，以便用户就近访问最近的提供服务的节点，从而减小延迟。 扩展系统能力 当负载增加到需要更强的处理能力时，最简单的方法是使用配置更好的机器（垂直扩展）。由一个残做系统管理跟多的 CPU，内存，磁盘等，通过内部总线去连接；这样一个共享内存的架构中，所有组件的集合可以看作一个超大的机器。 共享内存架构的弊端： 成本增长过快：有时候硬件指标提升了两倍，但是性能并不一定提升两倍；那么就会需要更多的配置 有限的容错能力：无法提供异地容错的能力 无共享结构 无共享结构也被称为水平扩展，其中各个节点之间的通信全部通过传统的网络，不需要特殊的硬件，并且核心逻辑主要依靠软件来实现。...</p> -->
      <span class="c-post-date">2021, Jun 29&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/nce/nce_3.jpg)"
        href="/2021/06/26/nce_3/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/26/nce_3/">New Concept English (Lesson 7)</a>
      </h2>
      <!-- <p>Lesson 7 Too late The plane was late and detectives were waiting at the airport...</p> -->
      <span class="c-post-date">2021, Jun 26&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">2 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/2021_summary_h1.jpg)"
        href="/2021/06/22/summary_h1_2021/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/22/summary_h1_2021/">2021 H1 Summary</a>
      </h2>
      <!-- <p>最近公司在做半年总结 &amp; 绩效考核，已经写了很多文档，趁着这个机会总结下自己上半年的情况吧 工作 目前在做的项目是 Config Center，在基础组件中，配置中心算是比较底层的模块，经常被其他组件所依赖。 上半年的工作主要集中在两个方向： SDK 功能对齐 &amp; 融合 Server-End 稳定性 &amp;...</p> -->
      <span class="c-post-date">2021, Jun 22&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/nce/nce_2.jpg)"
        href="/2021/06/19/nce_2/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/19/nce_2/">New Concept English (Lesson 6)</a>
      </h2>
      <!-- <p>Lesson 6 Percy Buttons I have just moved to a house in Bridge Street. Yesterday,...</p> -->
      <span class="c-post-date">2021, Jun 19&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">3 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_3_1.png)"
        href="/2021/06/19/ddia-3/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/19/ddia-3/">DDIA: 一致性与共识（三）</a>
      </h2>
      <!-- <p>分布式事务与共识 共识问题也是分布式系统中最基本的问题之一，共识的目的是让几个节点就某一事件达成一致。 在许多场景中都需要集群中的节点达成某种一致： 主节点选举 对于主从复制的数据库，需要对谁来充当主节点达成一致。如果由于网络问题使得部分节点之间无法通信，可能会导致两个节点都认为自己是主节点，从而产生数据异常等问题；而共识能够避免这种错误的故障切换。 原子事务提交 对于跨节点或者跨分区的事务，在执行中可能会存在部分节点成功，其他节点失败的情况。为了保证事务的原子性，需要所有节点对事务的执行结果达成一致：要么成功提交，要么失败回滚。 两阶段提交（2PC） 2PC 是一种在多节点之间实现事务原子提交的算法，用来确保所有的节点要么全部提交，要么全部终止。 2PC 引入了一个组件：协调者（事务管理器）；参与分布式事务的数据库节点称为参与者。整体流程如下： 2PC 事务从应用程序在多个数据库节点上执行数据读写开始。当应用程序准备提交事务时，协调者开始阶段 1：发送一个准备请求到所有节点，询问它们是否可以提交，然后等待所有参与者的响应：...</p> -->
      <span class="c-post-date">2021, Jun 19&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_2_1.png)"
        href="/2021/06/16/ddia-2/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/16/ddia-2/">DDIA: 一致性与共识（二）</a>
      </h2>
      <!-- <p>顺序保证 顺序也是一个非常重要的概念；事实证明，排序，可线性化，共识之间存在这深刻的联系。 顺序与因果关系 我们研究顺序的一个原因是其有助于保持因果关系。而因果关系对所发生的事件施加了某种排序：发送消息先于收到消息；问题出现在答案之前等。因果关系的依赖链条定义了系统中的因果顺序，即某件事情应该发生在另一个事情之前。 如果系统服从因果关系所规定的顺序，称之为因果一致性。例如，快照隔离提供了因果一致性：读取某些数据时，能够看到该数据的前序事件。 因果顺序并非全序 全序关系支持任何两个元素之间进行比较，即对于集合中的任意两个元素总是可以判断出哪个更大，哪个更小。因果关系并不是全序，而是一种偏序。 可线性化：在一个可线性化系统中，存在全序操作关系。系统的行为好像只有一个数据副本，并且每个操作都是原子性的；这意味着对于任意两个操作，总是可以判断出哪个操作在先；这种全序排列类似于之前的数据库操作时间线。 因果关系：如果两个操作都没有发生在对方之前，那么这两个操作是并发关系。如果两个操作是因果关系，那么这两个事件可以进行排序；而并发的事件无法进行排序。 因此，在可线性化存储中不存在并发操作，一定有个时间线将所有操作全序执行。 可能存在多个请求处于等待处理的状态，但是数据存储保证了在特定的时间点执行特定的操作，所以是单个时间轴，单个数据副本，没有并发。 而因果关系的时间线会出现分支与合并，而不同分支上的操作无法进行直接比较，类似于 git 中的版本记录。 可线性化强于因果关系...</p> -->
      <span class="c-post-date">2021, Jun 16&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/ddia/ddia_1_1.png)"
        href="/2021/06/16/ddia-1/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/16/ddia-1/">DDIA: 一致性与共识（一）</a>
      </h2>
      <!-- <p>在分布式系统中，比较重要的抽象概念是共识：所有节点就某一项提议达成一致。 共识在分布式系统中有许多应用场景：比如，对于一个主从复制的数据库集群，如果主节点发生失效，那么就需要切换到另一个节点，而新的主节点的选举就可以采用共识算法来实现。共识算法能够保证在某一时刻，只有一个主节点。 如果两个节点都认为自己是主节点，就会发生脑裂，导致数据丢失，而共识算法能够保证这种异常不会发生 一致性保证 在多副本数据库的复制中（主从复制，多主节点复制，无主节点复制），如果在同一时刻同时访问集群中的两个不同节点，可能会看到不一样的数据，造成这种现象的原因是写请求会在不同的时间到达不同的节点，导致同一时刻各个副本的数据存在不一致现象。 不过，大多数系统都提供了最终一致性：在更新之后的一段时间（时间长度未知），最终所有的副本都会保持一致。也就是说这种副本间不一致的现象是短暂的，最终会收敛；但是，这种最终一致性是很弱的保证，无法告诉我们什么时候会收敛完成。 对于这种只能提供弱一致性保证的系统来说，存在一定的局限性。因此，需要更强的一致性保证，不过相应的会导致性能降低等一些问题。 分布式一致性与事务隔离级别中有相似之处，但是还是存在明显的区别：事务隔离性是为了处理并发执行事务时的各种临界条件，而分布式一致性则主要针对延迟和故障等问题来协调副本之间的状态。 可线性化 可线性化使得一个多副本系统看起来好像只有一个数据副本，并且对这个系统的所有操作都是原子的。（可线性化也被称为原子一致性，强一致性等） 在一个可线性化的系统中，一旦某个客户端成功提交写请求，那么之后所有客户端的读请求一定都能看到这个刚刚写入的值。因此，可线性化能够保证读取最近最新的值，而不是过期的值。 如何达到可线性化 为了实现可线性化，需要对系统进行约束：一旦新值被写入或者读取，所有后续的读到看到的是新值 可线性化背后的思想是：使得整个系统看起来好像只有一个数据副本。结合例子，逐步理解可线性化。 下图展示三个客户端在线性化数据库中读写相同的记录...</p> -->
      <span class="c-post-date">2021, Jun 16&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">1 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/nce/nce_1.jpg)"
        href="/2021/06/06/nce_1/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/06/06/nce_1/">New Concept English (Lesson 1-5)</a>
      </h2>
      <!-- <p>Lesson 1 A Private Conversation Last week I went to the theatre. I had a...</p> -->
      <span class="c-post-date">2021, Jun 06&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">5 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
  <article class="c-post">
    
    <a class="c-post-thumbnail o-opacity" style="background-image: url(/images/im/im_1.png)"
        href="/2021/05/30/im_system/"></a>
    
    <div class="c-post-content">
      <h2 class="c-post-title">
        <a href="/2021/05/30/im_system/">IM 系统设计与实现</a>
      </h2>
      <!-- <p>该文档是从字节离职后在美团的技术分享 介绍 IM（Instant Messaging 即时通讯）在我们日常生活中扮演者比较重要的角色，为我们的社交提供了很大的便利，我们基本上每天都会使用该系统，比如微信，QQ，大象，钉钉等。 作为 RD，我们可能或多或少思考过这套系统是如何实现的，消息收发流程是什么样的，为什么有些社交软件的群人数存在上限，我将结合之前的开发经验给大家分享一下 IM 背后的简单实现。 思考 在正式介绍 IM 系统实现之前，先给大家抛出一个问题，我个人觉得这个问题虽然看起来简单，但是值得进一步思考。 如何实现微信朋友圈功能？ 在...</p> -->
      <span class="c-post-date">2021, May 30&nbsp;&nbsp;&nbsp;—&nbsp;</span>
      <span class="c-post-words">3 minute read</span>
    </div>
  </article> <!-- /.c-post -->
  
</div> <!-- /.c-posts -->




  <button class="c-load-more c-btn c-btn--middle">Load more posts</button>

<div class="c-categories" style="display: none;">
  <ul class="c-categories__list u-lists-reset">
      
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/operating-system/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/linux_kernel/chapter_4/lk_1.png');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">Operating-System</h2>
          <p class="c-categories__count"><span>4</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/algrithom/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/mono_stack/mono_stack_1.png');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">algrithom</h2>
          <p class="c-categories__count"><span>4</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/annual-summary/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/2021_summary_h1.jpg');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">annual-summary</h2>
          <p class="c-categories__count"><span>1</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/database/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/index/index_1.png');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">database</h2>
          <p class="c-categories__count"><span>2</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/ddia/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/ddia/ddia_8_1.png');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">ddia</h2>
          <p class="c-categories__count"><span>8</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/economics/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/economics/economics_1.png');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">economics</h2>
          <p class="c-categories__count"><span>1</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/english-study/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/nce/nce_2.jpg');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">english-study</h2>
          <p class="c-categories__count"><span>6</span> Posts</p>
        </div>
      </a>
    </li>
    
    <li class="c-categories__item">
      
      <a class="c-categories__link" href="/category/system-design/">
        
        
        
        <div class="c-categories__img">
          <figure style="background-image: url('/images/gfs/gfs_1.png');"></figure>
          <span class="c-categories__more">View all</span>
        </div>
        
        
        <div class="c-categories__container ">
          <h2 class="c-categories__header">system-design</h2>
          <p class="c-categories__count"><span>3</span> Posts</p>
        </div>
      </a>
    </li>
    
  </ul>
</div> <!-- ./c-categories -->
</main> <!-- /.c-content -->
  </div> <!-- /.o-wrapper -->
  <div class="c-top" data-icon='ei-chevron-up' data-size='s' title="Scroll To Top"></div> <!-- /.c-top -->
  <script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/evil-icons.min.js"></script>
<script src="/js/jquery.fitvids.js"></script>
<script src="/js/simple-jekyll-search.min.js"></script>
<script src="/js/main.js"></script>
<!-- /javascripts -->
</body>
</html>